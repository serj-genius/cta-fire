<div class="video-masked-button">
  <div class="video-container">
    <video autoplay loop muted playsinline width="320" height="120">
      <source src="button-video-bg.m4v" type="video/mp4">
    </video>
    <div class="video-overlay"></div>
    <!-- BG SPARKS LAYER -->
    <img src="btn-deco.svg" alt="" class="btn-deco" />
    <span class="button-text">Adh√©rer maintenant</span>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const container = document.querySelector('.video-container');
    const video = container.querySelector('video');
    container.addEventListener('mouseenter', function() {
      video.currentTime = 0;
    });
    container.addEventListener('mousedown', function() {
      video.currentTime = 0;
    });
  });
</script>

<style>
@import url("https://use.typekit.net/iaj7ygr.css");

body {
  background-color: #050403;
  height: 300px;
  box-sizing: border-box;
}

.video-container {
  align-items: center;
  background: #D41D18;
  display: flex;
  height: 120px;
  justify-content: center;
  
  mask-image: url(btn-mask.svg);
  -webkit-mask-image: url(btn-mask.svg);
  mask-size: 100% 100%;
  -webkit-mask-size: 100% 100%;
  mask-repeat: no-repeat;
  -webkit-mask-repeat: no-repeat;
  
  overflow: hidden;
  position: relative;
  transform: scale(1);
  width: clamp(160px, 60vw, 385px);
}

.video-container:hover {
  cursor: pointer;
  transform: scale(1.02);
}

.video-container:active {
  cursor: pointer;
  transform: scale(0.98);
}

.video-container video {
  /* mix-blend-mode: overlay; */
  transform: translate3d(0,0,0);
  left: 0;
  height: 100%;
  object-fit: fill;
  position: absolute;
  top: -4px;
  width: 100%;
}

.button-text {
  align-items: center;
  bottom: 0;
  color: #FFF;
  display: flex;
  font-size: clamp(22px, 5vw, 36px);
  font-family: "acumin-pro-condensed";
  font-style: normal;
  font-weight: 950;
  left: 0;
  line-height: 90%;
  justify-content: center;
  position: absolute;
  right: 0;
  top: 5%;
  text-shadow: 0 3px 0 rgba(0, 0, 0, 0.25);
  text-transform: uppercase;
  text-align: center;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
  z-index: 999;
}
.video-masked-button {
  align-items: center;
  display: flex;
  height: 100%;
}
.btn-deco {
  height: 100%;
  left: 0;
  top: 0;
  object-fit: contain;
  pointer-events: none;
  position: absolute;
  width: 100%;
  z-index: 1000;
}
.video-overlay {
  width: 100%;
  position: absolute;
  height: 100%;
  background: #ff000040;
}
</style>
